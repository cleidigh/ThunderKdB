<?xml version="1.0" encoding="UTF-8"?>

<!-- tb 64 -->
<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<!--  tb 59 -->
<?xml-stylesheet href="chrome://messenger/skin/preferences/preferences.css" type="text/css" ?>
<?xml-stylesheet href="chrome://quickfolders/content/filterTemplate.css" type="text/css"?>

<!DOCTYPE dialog SYSTEM "chrome://quickfolders/locale/filters.dtd" >


<dialog title="&qf.filters.title;"
        id="qf-template"
        buttons="extra2,cancel,extra1"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        buttonlabelcancel="&qf.label.cancel;"
        buttonlabelextra1="&qf.continueFilter.label;"
        buttonaccesskeyextra1="&qf.continueFilter.shortcut;"
        buttonlabelextra2="&qf.label.donate;"
        ondialogcancel="return QuickFolders.FilterWorker.cancelTemplate();"
        ondialogextra1="return QuickFolders.FilterWorker.acceptTemplate();"
        ondialogextra2="QuickFolders.Util.openLinkInBrowser(event,'https://quickfolders.org/donate.html')"
        onload="QuickFolders.FilterWorker.loadTemplate();"
>
<!--	tooltiptextextra2="&qf.donate.tooltip;" -->

	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders.js" />
	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders-preferences.js" />
	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders-interface.js" />
	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders-themes.js" />
	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders-util.js" />
	<script type="application/javascript" src="chrome://quickfolders/content/quickfolders-filterWorker.js" />
	
	<!-- Thunderbird 63: replace with Services.strings.createBundle(..) -->
  <stringbundleset id="stringbundleset">
    <stringbundle id="bundle_filter" src="chrome://quickfolders/locale/filters.properties"/>
  </stringbundleset>
	

	<prefpane id="qf-template-prefpane" >

		<preferences>
			<preference id="qfp-SelectedFilterTemplate" 
        name="extensions.quickfolders.filters.currentTemplate" 
        type="string" />
		</preferences>
	
    <vbox>
      <hbox class="myWizard">
        <vbox>
          <image id="logo" src="chrome://quickfolders/content/skin/ico/filterTemplate.png"/>
          <spacer id="bottomLogo" />
        </vbox>

        <richlistbox 
          id="qf-filter-templates"
          ondblclick="QuickFolders.FilterWorker.selectTemplate(this);"
          onselect="QuickFolders.FilterWorker.selectTemplateFromList(this);"
          preference="qfp-SelectedFilterTemplate"
          rows="6">
            <richlistitem value='from'>  &qf.filters.template.from; </richlistitem>
            <richlistitem value='to'>    &qf.filters.template.to;   </richlistitem>
            <richlistitem value='list'>  &qf.filters.template.list; </richlistitem>
            <richlistitem value='topic'> &qf.filters.template.topic;</richlistitem>
            <richlistitem value='tag'>   &qf.filters.template.tag;  </richlistitem>
        </richlistbox>
        <vbox id="quickFiltersPromoBox">
          <description id="getQuickFilters">&qf.label.getQuickFilters;</description>
          <label id="quickFiltersLink"
                 class="para link" 
                 onclick="QuickFolders.FilterWorker.showQuickFilters(event);">&qf.label.quickFilters.link;</label>
          
        </vbox>
      </hbox>

      <hbox id="boxDescription">
        <description id="templateDescription"></description>
      </hbox>
    </vbox>
		
		<description id="qf-whatToDo">&qf.filters.instructions;</description>
    </prefpane>
	<script type="application/javascript" src="chrome://global/content/preferencesBindings.js" />
	<script>
	  QuickFolders.FilterWorker.loadPreferences(); /* Tb 66 compatibility. Should be called _before_ DOMcontent Loaded event */
	</script>
</dialog>

