<?xml version="1.0"?>

<!--
/*
* License:  see License.txt
* Code until Nostalgy 0.3.0/Nostalgy 1.1.15: Zlib
 Code additions for TB 78 or later: Creative Commons (CC BY-ND 4.0):
      Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0) 

* Contributors:  see Changes.txt
 */

-->







<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<?xml-stylesheet type="text/css" href="chrome://messenger/skin/messenger.css"?>


<!DOCTYPE window>

<dialog
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	      buttons="accept,extra2"
	      buttonlabelextra2="Nostalgy++ usage directions..."
        width="1100"
        height="700"
        title="Nostalgy Preferences">

 <script src="chrome://nostalgy/content/manage_emails.js"/>
 <script src="chrome://nostalgy/content/misc.js"/>
 <script src="chrome://nostalgy/content/folders.js"/>
 <script src="chrome://nostalgy/content/nostalgy_keys.js"/>
 <script src="chrome://nostalgy/content/edit_prefs.js"/>
 <script src="chrome://nostalgy/content/nostalgy.js"/>

 <html:style>
  tr:nth-child(even) {
  background-color: #f2f2f2;
}


/* spacing */

table {
  table-layout: fixed;
  width: 100%;
  height: 80%;
  border-collapse: collapse;
  border: 3px solid purple;
  font-size: 12px;
}

tbody td {
  text-align: center;
}

div {
 
  border-bottom: 3px solid purple;

  font-size: 12px;
}

td {
  padding: 2px;
  border-left: 1px solid #000;
    border-right: 1px solid #000;
}
th {
  padding: 15px;
  border-left: 0px solid #000;
    border-right: 0px solid #000;
    margin-left: -5px;
}

tr { 

    height: 20px   !important;
      vertical-align: text-top;


}

.selected {
    color: red;
}
</html:style>


 <tabbox flex="0" style="width:600px">
 <tabs>
 <tab label="Rules"/>
 <tab label="Completion"/>
 <tab label="Keys"/>
 <tab label="Compose Dialog"/>
  <tab label="Utilities"/>
 </tabs>
 <tabpanels>

 <tabpanel>
 <groupbox flex="1">   
 <label>Rules associate folders to messages by looking for a
substring of the Sender or Subject (or both) headers. A rule can be
restricted to match messages under a given server/folder. When a folder
is selected for a given message, Nostalgy informs you in the status line.
You can then use the Shift-S/Shift-C
shortcuts to move/copy the message to this folder.</label>   
 
<html:table  id = "display-table1">
      <html:thead>
          <html:tr>
              <html:th   style="width:25%">From/Recipient/Subject</html:th>
              <html:th   style="width:25%">Contains</html:th>
              <html:th   style="width:25%">Source Folder</html:th>
              <html:th   style="width:25%">Destination Folder</html:th>

          </html:tr>
      </html:thead>
      </html:table>
<html:div style="height: 500px; overflow: auto; "> 
  <html:table  id = "display-table" style="border-top: 0px !important; border-bottom: 0px !important;">
       <html:tbody  style="height: 500px; "  id="nrules">

        </html:tbody>
  </html:table>
</html:div>
<br/>

<!--
<richlistbox class="theme-listbox"  id="nrules" >

 <treecols>
    <treecol label="Field" width="100"/>
    <splitter class="tree-splitter"  style="background-color: #202020;"/>
    <treecol label="Contains" width="100"/>
    <treecol label="Under" width="100"/>
    <treecol label="Target" width="100" />
  </treecols>


  </richlistbox>
-->
<vbox >
 <hbox >


 </hbox >
 </vbox>

 <vbox align="center">
  <hbox>
  <button label="Edit" accesskey="E" oncommand="NostalgyDoEdit();"/>
  <button label="Delete" accesskey="D" oncommand="NostalgyDoDelete();"/>
  <button label="New" accesskey="N" oncommand="NostalgyDoNewRule();"/>
  <button label="Apply Rule" accesskey="A" oncommand="manage_emails.applyRule();"/>
  <separator orient="vertical"/>
  <button label="Move up" accesskey="U" oncommand="NostalgyDoMoveUp();"/>
  <button label="Move down" accesskey="W" oncommand="NostalgyDoMoveDown();"/>
  <separator orient="vertical"/>
  <button label="Export rules" oncommand="NostalgyExportRules();"/>

  <!---
  <html:a href="mailto:" id = "emailrulelink">
    <button label="Email rules" id = "emailrule"/>
	</html:a>

  -->
  <button label="Import rules" oncommand="NostalgyImportRules();"/>
  </hbox>
 </vbox>
 </groupbox>
 </tabpanel>

 <tabpanel>
 <groupbox flex="1">
   <checkbox label="Restrict folder completion to the current server"
             id="restrict_to_current_server" accesskey="R"/>
   <checkbox label="Match only on folder name, not on the full path"
             id="match_only_folder_name" accesskey="P"/>
   <checkbox label="Match only the prefix of folder path or name, not any substring"
             id="match_only_prefix" accesskey="B"/>
   <checkbox label="Sort folders alphabetically"
             id="sort_folders" accesskey="S"/>
   <checkbox label="Match folder names in a case sensitive way"
             id="match_case_sensitive" accesskey="C"/>
   <checkbox label="Tab triggers shell-like completion (otherwise, cycle through suggestions)"
             id="tab_shell_completion" accesskey="T"/>
   <checkbox label="Always include tags"
             id="always_include_tags"/>
   <checkbox label="Use Statistical Prediction"
             id="use_statistical_prediction"/>
   <hbox align="center">
     <label>Number of recent folders to remember:</label>
     <html:input type="number" min="0" max="50" id="number_of_recent_folders"/>
   </hbox>
   <hbox align="center">
     <label>Number of addresses to consider for statistical prediction:</label>
     <html:input type="number" min="0" max="99999" id="predict_max_addresses_to_update"/>
   </hbox>
 </groupbox>
 </tabpanel>

 <tabpanel>
 <groupbox flex="1">
  
  <html:table>
      <html:thead>
          <html:tr>
              <html:th colspan="2">Keys</html:th>
          </html:tr>
      </html:thead>
      <html:tbody id="nostalgy_key_rows">
        </html:tbody>
  </html:table>
<!--
  <grid style="overflow:auto; height:300px">
   <columns> <column  width="300"/> <column width="150"/> <column/> </columns>
   <rows id="nostalgy_key_rows"/>
   </grid>

  -->
  <separator orient="horizontal"/>
  <hbox>
  <radiogroup id="cmdkind" orient="horizontal">
  <radio value="Go" label="Go" selected="true"/>
  <radio value="Save" label="Save"/>
  <radio value="Copy" label="Copy"/>
  <radio value="SaveGo" label="Save+Go"/>
  </radiogroup>
  
           <html:input is="autocomplete-input" id="folderselect"
                            type="text"
                            
                            disableonsend="true"
                            autocompletesearch="nostalgy-autocomplete"
                            autocompletesearchparam="{}"
                            timeout="300"
                            maxrows="25"
                            completedefaultindex="true"
                            forcecomplete="true"
                            completeselectedindex="true"
                            minresultsforpopup="2"
                            ignoreblurwhilesearching="true"
                            nostalgyfolderbox="NostalgySelectFolderForKey();"
                     
                          
                            recipienttype="addr_to"
                            size="70"     />

 
 
           <button label="Create"  oncommand="NostalgySelectFolder();"/>
  </hbox>
 </groupbox>
 </tabpanel>


 <tabpanel>
 <groupbox flex="1">   
 <label>Always show the cc or bcc line in compose dialog?</label>   
 <vbox >
  <checkbox label="Always show cc line in compose"
             id="always_cc" accesskey="C"/>
   <checkbox label="Always show bcc line in compose"
             id="always_bcc" accesskey="B"/>
 <hbox >




 </hbox >
 </vbox>

 <vbox align="center">
  <hbox>
  </hbox>
 </vbox>
 </groupbox>
 </tabpanel>


 <tabpanel>
 <groupbox flex="1">   
 <label>This has some utility functions in addition to standard nostalgy functions</label>   
 <vbox >
 <hbox >




 </hbox >
 </vbox>

 <vbox align="center">
  <hbox>
  <button label="Restart Thunderbird" accesskey="R" oncommand="NostalgyDoRestart();"/>
  </hbox>
 </vbox>
 </groupbox>
 </tabpanel>


 </tabpanels>
 </tabbox>

</dialog>
