<!--
  /*
 * License:  see License.txt
 * Code until Nostalgy 0.3.0/Nostalgy 1.1.15: Zlib
 * Code addtions for TB 78 or later: Creative Commons (CC BY-ND 4.0):
 *      Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0) 
 
 * Contributors:  see Changes.txt
 */



-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
                      "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <title>Help for Nostalgy++</title>
      <script type="application/javascript" src="about.js"></script>
      <style>
        html {
          background-color: white;
        }
        a {
          color: blue;
          text-decoration: underline;
        }
      </style>
 	<link rel="stylesheet" href="popup.css" type="text/css">
   <script type="application/javascript" src="update.js"></script>
 </head>
  <body>

   <h2>Usage directions for Nostalgy++</h2>

   <p>
    Manage Emails/Nostalgy++ is an update of Nostalgy by Alain Frisch to TB 68 and now TB 78 (TB 91 in preparation),
     combined with new functionality.

   </p>
   <p></p>
   
   <p>
    Nostalgy++ adds several keyboard shortcuts to improve your
     productivity with Thunderbird. <br><br>Since version 2.2.4, it also offers an image viewer, 
     which allows to view message attachments without starting the external image app or FF.
     <br><br>A custom preference dialog for
     Nostalgy++ is available through the Tools menu.
   </p>
   <p>
     <b>Notes about shortcuts:</b>
     <ul>
     <li>We give here the default values for shortcuts.
     Most of them can be changed  from the preference dialog.</li>
     <li>Even if the key shortcuts are written in
     uppercase, you must not press Shift (= use lowercase letters on keyboard).</li>
     <li>The ESC-X shortcuts means: press and release ESCAPE, and then
     press X within 300ms (ESC-ESC is thus like a double click on
     ESCAPE).</li>
     </ul>
   </p>

   <h3>Folder commands</h3>

   <p>
     The following shortcuts are available from the main Thunderbird's
     window. As a remainder and a sign of Nostalgy's presence, these shortcuts
     are displayed in Thunderbird's status bar.
   </p>

   <table border="1">
    <tr><th>Shortcut</th><th>Description</th></tr>
    <tr><td>g</td><td>Open a specific folder</td></tr>
    <tr><td>alt-g</td><td>Go back to the folder where you started the (g)o</td></tr>
    <tr><td>s</td><td>Move the current message to a specific folder</td></tr>
    <tr><td>b</td><td>Move the current message to a specific folder
    and go there</td></tr>
    <tr><td>c</td><td>Copy the current message to a specific folder</td></tr>
   </table>

   <p>
     These commands open a folder completion box (in place of the
     status bar) where you can select a folder by typing part of its
     name. A popup displays the possible completions. 
     Regular expressions are accepted as well (and .. is a
     short-hand for .* meaning: any sequence of characters). You can
     accept the first suggested completion with RETURN, or select
     another one in the popup with the UP/DOWN keys (or by mouse) and then RETURN.
     You can cancel the command with ESCAPE.
   </p>
   <p>New search:</p>
   <p>Even if not using regex, Nostalgy++ now allows multiple search criteria. For example, '<b>in no</b>' will find <b>in</b>box/software/<b>no</b>stalgy. '<b>ar no</b>'
    will find <b>ar</b>chive/software/<b>no</b>stalgy. Just using 'no' will find both. Two or more criteria or parts of foldernames are allowed. Don't type the '!
    </p>
<p>
     If you choose a folder and append it by a new foldername (e.g./FolderName)
     the add new folder dialog will open and will allow to add the folder at the chosen
     position in the folder tree.
   </p>
   <p>
     Before you type anything in the folder completion box, the popup
     can display the most recently selected folders. You can choose one
     of them with the UP/DOWN keys. 
   </p>

   <p>                                                            
     In the folder completion box, the TAB key activates a shell-like
     autocompletion mode (this feature must be enabled in Nostalgy's
     preference dialog; otherwise, TAB cycles through the possible
     completions). In this mode, the completed suggestions only
     mentions possible completions one level down in the folder
     hierarchy, and the TAB key itself automatically completes with
     the longest unambiguous fragment. 
   </p>

   <p>
     It is possible to restrict (see the preference dialog) the
     completion to the folders on the same server as the currently
     displayed folder.
   </p>

   <p>
     The s,b,c commands can be applied to one or many messages.
   </p>

   <p>
     The s and c commands also work in a standalone message window (may not work in TB 91).
    
   </p>

   <p>
     The g command also focuses the thread pane. alt-g allows to go back.
     If you were doing a
     QuickSearch (that is, if you had typed some text in the search
     box), the same search carried over to the new folder. (not working yet in TB 78)
   </p>

   <p>
     The b command preserves the selection. The moved messages will
     be selected again in the target folder. (currently not working in TB78 - may be updated)
   </p>


   <h3>Custom shortcuts</h3>

   <p>
     In the preference dialog, you can define any number of custom
     keyboard shortcuts. A custom shortcut triggers a g, s, c or b
     command to a specific folder.
   </p>


   <h3>3-pane navigation</h3>

   <p>
     Because of the g command, the folder pane becomes thus much less
     useful, and it can be hidden with the l shortcut.
     (Thunderbird already proposes a shortcut to show/hide
     the message pane: F8). Some notebooks need to press fn+F8 - then, l  is convenient.
   </p>

   <p>
     Nostalgy++ also allows you to scroll the message while the thread
     pane is focused with the Ctrl-Left/Right or Shift-Left/Right
     keys.  Because of that, it is a good idea to leave the thread
     pane always focused.  Nostalgy++ still provides shortcuts to easily
     focus one of the three panes.
   </p>

   <table border="1">
    <tr><th>Shortcut</th><th>Description</th></tr>
    <tr><td>l</td><td>Hide/show the folder pane</td></tr>
    <tr><td>ESC-f</td><td>Focus the folder pane</td></tr>   
    <tr><td>ESC-m</td><td>Focus the message pane</td></tr>
    <tr><td>ESC-r</td><td>Open the attachment list in the message pane</td></tr>   
    <tr><td>ESC-1</td><td>Display the first image attachment (ESC-2 the second, etc)</td></tr>   
    <tr><td>ESC-ESC</td><td>Focus the thread pane</td></tr>
    <tr><td>ESC-ESC-ESC</td><td>Focus the thread pane, clear quick search box, select the "All" view.  (currently not working in TB78 - may be updated)</td></tr>
    <tr><td>Ctrl-Left/Right</td><td>Scroll the message from the thread pane</td></tr>
   </table>



   <h3>Rules</h3>

   <p>
     Nostalgy++ introduces a notion of rule. A rule associates a folder
     to a message by looking for a substring of the From, To/Cc, or
     Subject headers (or a combination of them).  A rule can be
     restricted to match messages only under a given
     server/folder. When a rule selects a folder for a given message,
     Nostalgy++ informs you in the status line.  You can then use the
     Shift-S/Shift-C/Shift-G/Shift-B shortcuts to move/copy/go directly to
     this folder. Nostalgy++'s rules can be edited from the preference
     dialog. 
   </p>

   <p> If no entry for the folder 'Under' is given, then the rule will apply in any folder.
   </p>
   <p>
     It is possible to match fields with a regexp instead of simply
     looking for a substring. This is done by enclosing the
     corresponding field with
     slashes. E.g. <tt>/^me@domain\.com$/</tt> will match the field
     for an exact value (not a substring).
   </p>

   <p>
     When no rule applies to a given message, Nostalgy++ proposes to
     re-use (with Shift-S/Shift-C/Shift-G/Shift-B) the same folder as for the
     last operation. If the folder lookup has been
     restricted to the current server (in the Nostalgy++ preference
     dialog), then the last operation folder is attached to the
     current server. Otherwise, it is global.
   </p>

   <p>Creating rules: n, typed in the TB main window, opens the dialog to enter a new rule. e, 
     entered in the main window, will convert the latest email move operation into a rule.</p>


     <p> Applying rules: there is a button to directly apply the currently selected rule.</p>

   <h3>Exporting and importing rules</h3>

 

   <p>
     Nostalgy++ can import/export rules. This feature can be used as a backup mechanism, or
     to exchange rules between various computer or Thunderbird
     profiles.
   </p>

   <p>
     <b>IMPORTANT:</b> importing rules will destroy
     your current rules. Use this feature with caution.
   </p>


   <h3>Looking for messages with same sender / subject</h3>

   <p>
     The key "q"  launches a QuickSearch for messages
     from the same sender as the currently selected message.
     If you press the same key again, messages with the same
     subject are searched. And if you press again,
     the QuickSearch is cancelled.
     In the Sent folder, the search is done on the first recipient (To:
     header) instead of the sender.  
     Previously, the ` key was used, but it is not available on all keyboards. 
     You can change that key in the options.     
   </p>

<h3>Tags</h3>


<p> Starting from version 2.0, Thunderbird supports tags, along
with traditional folders, as a way to organize your
messages.  </p>

<p> 
Nostalgy helps you use tags in much the same way it helps you use folders:
The completion box for the Go/Save/Copy commands lists your
email folders, and it also can list your existing tags,
prefixed with a semi-colon.</p>

<p> This needs to be enabled in settings </p>

<p>A "Go" command applied to a tag restricts the current folder view to show
only the messages that have this tag (ESC-ESC-ESC restores the "All
messages" view). A "Save" or a "Copy" command applied to a tag toggles the
tag on or off for the selected messages (the first selected message is used
to determine if the tag has to be added or removed). Note that Save and Copy
have the same behavior when applied to tags.</p>

<p>It is possible to create new tags directly from the completion box.
If you enter a string of the form <tt>:foobar</tt> or <tt>:foobar:</tt>
(that is, a leading colon and an optional trailing colon), it will
open the tag creation dialog with the tag name set to <tt>foobar</tt>
(in order to confirm the creation of the tag and choose its color).
If you confirm, the command is applied to the new tag.
</p>


<p>You may also use tags rather than folders as targets for Nostalgy's
rules.</p>

   <h3>In the Composer</h3>

   <p>Nostalgy adds some support for keyboard operations to the Composer window.</p>

   <p>When typing in an address line (to, cc or bcc), it's possible to change easily the address line
to either "To:", "Cc:" or "Bcc:". To do so, you need to be entering a new email address, and simply type "to ", "cc " or "bcc " (with the whitespace,
without the quotes). This will open the corresponding address line (cc or bcc), if necessary, 
and will put the focus into that line.</p>

   <p>The ESC-ESC combination focuses the message body. The ESC-A combination
opens the file attachment dialog.</p>

   <h3>Preferences</h3>

   <p>The preference dialog for Nostalgy has several tabs.
   The first tab is the place where rules are
   defined. The second tab has several switches to control
   the way the completion
   box (where folder names are proposed) is populated (see below).
   The third pane allows you to configure Nostalgy's shortcuts
   (click on the key to change it), to disable some of them,
   or to manage custom shortcuts.
   The fourth pane allows to set, whether cc line and/or bcc line are displayed by default
   when the compose dialog is opened.
   The fifth pane holds utilities, for example, to restart TB, with all windows
   automatically closed.
   </p>

   <p>Here is a description of the completion options:</p>

   <ul>
   <li><b>Restrict folder completion to the current server:</b>
   limit lookup to folders on the same
   server/account as the currently active folder. In this mode,
   the server name is not displayed (and must not be typed) in
   the input line and the completion box.</li>

   <li><b>Match only on folder name, not on the full path:</b>
      force Nostalgy to interpret differently what
      is typed in the text. Normally, when the option is disabled,
      it is interpreted as a regexp which can match an arbitrary substring
      of the complete folder name (including the account name and
      the name of parent folders). When the option is enabled,
      the regexp must match either a substring of the local folder name
      (not the full name) or a prefix of the full folder name.</li>

   <li><b>Sort folders alphabetically</b>.</li>

   <li><b>Match folder names in a case sensitive way</b>.</li>


   <li><b>Tab triggers shell-like completion (otherwise, cycle through suggestions)</b>.</li>

   <li><b>Always include tags</b>: if set, tags are always included
in the completion box; otherwise, tags are included only if
the input box starts with a colon character, or if no folder matches.
</li>
   </ul>


      <h3>Utilities</h3>
      <p> The restart button forces Thunderbird to restart. This may be useful for developers, when many windows need to be closed, or when addons have been deleted/reloaded etc. </p>

      <h3>Bugs, Problems</h3>
      <p>
        Please report errors or bugs on <a id="github" > github: </a> (https://github.com/opto/nostalgy-xpi/issues)
      </p>
      <h3>Help with a Donation!</h3>
    
      <p>This Add-on is not written
        by a large corporation, nor is it sponsored in any way by Mozilla.
        </p>
        
   
      <p>
        In TB 78, Thunderbird internals changed widely. Klaus Buecher/opto has been working to make {addon} fully 
        functional again for Thunderbird 78. At lot of personal time has been put into this. I appreciate if you can support
      this work by a donation. </p>
    <p> </p>
        <p> </p>      
      <div>    </div>
         <p class="actionlinks">
        <a id="donate">I want to contribute with a one time donation</a>
      </p>
      <p> </p>
  
   <hr/>

  </body>
</html>
