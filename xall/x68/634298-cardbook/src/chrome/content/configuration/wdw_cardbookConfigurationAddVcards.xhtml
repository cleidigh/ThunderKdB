<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://messenger/skin/addressbook/abContactsPanel.css" type="text/css"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookAddressBooks.css" type="text/css"?>
<!-- for MailList icon -->
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookCardsIcon.css" type="text/css"?>
<!-- for the textbox -->
<?xml-stylesheet type="text/css" href="chrome://messenger/skin/input-fields.css"?>

<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	xmlns:xhtml="http://www.w3.org/1999/xhtml"
	xmlns:html="http://www.w3.org/1999/xhtml"
	onload="wdw_cardbookConfigurationAddVcards.load();" resizable="true"
	onclose="wdw_cardbookConfigurationAddVcards.cancel();"
	id="wdw_cardbookConfigurationAddVcards" title="__CARDBOOKMSG_wdw_cardbookConfigurationAddVcardTitle__"
	persist="screenX screenY width height"
	style="min-width:400px;min-height:200px;">
	
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookElementTools.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/configuration/wdw_cardbookConfigurationAddVcards.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookLocales.js"/>
	<!-- for the textbox -->
	<script type="application/x-javascript" src="chrome://global/content/globalOverlay.js"/>
	<script type="application/x-javascript" src="chrome://global/content/editMenuOverlay.js"/>

	<keyset id="wdw_cardbookConfigurationAddVcards-keys">
		<key keycode="VK_ESCAPE" oncommand="wdw_cardbookConfigurationAddVcards.cancel();"/>
	</keyset>

	<hbox flex="1">
		<vbox flex="1">
			<grid align="center" flex="1">
				<columns>
					<column/>
					<column flex="1"/>
				</columns>
				<rows>
					<row align="center">
						<label value="__CARDBOOKMSG_mailAccountLabel__" control="mailAccountMenulist"/>
						<menulist id="mailAccountMenulist">
							<menupopup id="mailAccountMenupopup"/>
						</menulist>
					</row>
					<row align="center">
						<label value="__CARDBOOKMSG_addressbookLabel__" control="CardBookABMenulist"/>
						<menulist id="CardBookABMenulist" oncommand="wdw_cardbookConfigurationAddVcards.loadContacts();">
							<menupopup id="CardBookABMenupopup"/>
						</menulist>
					</row>
					<row align="center">
						<label value="__CARDBOOKMSG_contactVcardLabel__" control="contactMenulist"/>
						<menulist id="contactMenulist" oncommand="wdw_cardbookConfigurationAddVcards.changeFileName();wdw_cardbookConfigurationAddVcards.changeVCard();">
							<menupopup id="contactMenupopup"/>
						</menulist>
					</row>
					<row align="center">
						<label value="__CARDBOOKMSG_filenameLabel__" control="filenameLabel"/>
						<html:input id="filenameTextbox"/>
					</row>
					<row id="VCardRow" align="center">
						<label value="__CARDBOOKMSG_vCardLabel__" control="filenameLabel"/>
						<html:textarea id="VCardTextbox"/>
					</row>
				</rows>
			</grid>
		</vbox>
	</hbox>

	<hbox>
		<spacer flex="1"/>
		<button id="saveEditionLabel" label="__CARDBOOKMSG_saveEditionLabel__" accesskey="__CARDBOOKMSG_saveEditionAccesskey__" oncommand="wdw_cardbookConfigurationAddVcards.save();"/>
		<button id="cancelEditionLabel" label="__CARDBOOKMSG_cancelEditionLabel__" accesskey="__CARDBOOKMSG_cancelEditionAccesskey__" oncommand="wdw_cardbookConfigurationAddVcards.cancel();"/>
	</hbox>
</window>
