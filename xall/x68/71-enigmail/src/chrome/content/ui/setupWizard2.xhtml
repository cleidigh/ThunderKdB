<?xml version="1.0"?>
<!--
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
-->


<?xml-stylesheet href="chrome://messenger/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://enigmail/content/skin/enigmail.css" type="text/css"?>

<!DOCTYPE window [
  <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd" >
%brandDTD;
<!ENTITY % enigMailDTD SYSTEM "chrome://enigmail/locale/enigmail.dtd" >
%enigMailDTD;
<!ENTITY % utilDTD SYSTEM "chrome://communicator/locale/utilityOverlay.dtd">
%utilDTD;
]>

<dialog id="setupWizardDlg"
  title="&enigmail.setupWiz.title;"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
  onload="onLoad();"
  buttons="accept,cancel"
  buttonaccesskeyaccept="&enigmail.doneButton.accesskey;"
  buttonlabelaccept="&enigmail.doneButton.label;"
  onclick="handleClick(event)"
  minwidth="460px"
  maxwidth="800px"
  minheight="700px">

  <script type="application/x-javascript" src="chrome://enigmail/content/ui/setupWizard2.js" />

  <html:div style="width: 440px">
    <html:p>&enigmail.setupWiz.pgIntro.desc;</html:p>
  </html:div>

  <html:div id="manyKeys" style="width: 440px; margin:auto; visibility: collapse">
    <html:p>
      &enigmail.setupWiz.manyKeys.desc;
    </html:p>
    <html:p>
      <html:button type="button" id="btnSelectPrivateKeys" onclick="selectPrivateKeys()">&enigmail.setupWiz.manyKeys.selectButton;</html:button>
    </html:p>
  </html:div>

  <html:div id="startMigration" style="width: 440px; margin:auto">
    <html:p>
      &enigmail.setupWiz.startMigration.desc1;
    </html:p>
    <html:p>
      &enigmail.setupWiz.startMigration.desc2;
    </html:p>
    <html:p>
      <html:button type="button" id="btnStartMigration" onclick="startMigration()">&enigmail.setupWiz.startMigration.button;</html:button>
    </html:p>
  </html:div>

  <html:div id="exportingKeys" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.exportingKeys;
    </html:p>
    <html:progress id="exportProgress" style="width: 100%;" max="100" value="0"/>
  </html:div>

  <html:div id="keysExported" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.exportingKeys;
      <html:span aria-label="&enigmail.general.okLabel;" class="enigmailOkSign"/>
    </html:p>
  </html:div>

  <html:div id="importingKeys" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.importingKeys;
    </html:p>
    <html:progress id="importProgress" style="width: 100%;" max="100" value="0"/>
  </html:div>

  <html:div id="keysImported" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.importingKeys;
      <html:span aria-label="&enigmail.general.okLabel;" class="enigmailOkSign"/>
    </html:p>
  </html:div>

  <html:div id="applyingSettings" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.applyingSettings;
    </html:p>
    <html:p style="text-align: center;">
      <image class="enigmailWheel enigmailSpinning"/>
    </html:p>
  </html:div>

  <html:div id="settingsApplied" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.applyingSettings;
      <html:span aria-label="&enigmail.general.okLabel;" class="enigmailOkSign"/>
    </html:p>
  </html:div>

  <html:div id="migrationComplete" style="width: 440px; margin:auto; visibility: collapse">
    <html:p style="text-align: center;">&enigmail.setupWiz.migrationComplete;
    </html:p>
  </html:div>
</dialog>
